package {{package}};

import io.swagger.annotations.*;

{{#imports}}import {{import}};
{{/imports}}

import {{supportPackage}}.*;

import javax.ws.rs.*;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;
import java.util.List;

@Api(tags = {"/{{baseName}}"})
@SuppressWarnings("unused")
{{#operations}}
public interface {{classname}} {
    {{#operation}}

    @{{httpMethod}}{{#subresourceOperation}}
    @Path("{{path}}"){{/subresourceOperation}}{{#hasConsumes}}
    @Consumes({ {{#consumes}}"{{mediaType}}"{{#hasMore}}, {{/hasMore}}{{/consumes}} }){{/hasConsumes}}{{#hasProduces}}
    @Produces({ {{#produces}}"{{mediaType}}"{{#hasMore}}, {{/hasMore}}{{/produces}} }){{/hasProduces}}{{#vendorExtensions.x-annotation-deprecated}}
    @Deprecated{{/vendorExtensions.x-annotation-deprecated}}
    @ApiOperation(value = "{{{summary}}}"{{>apiNotes}}, nickname="{{{nickname}}}")
    @ApiResponses(value = { {{#responses}}
        @ApiResponse(code = {{{code}}}, message = "{{{message}}}"{{#baseType}}, response = {{{baseType}}}.class{{/baseType}}{{#returnContainer}}, responseContainer = "{{{returnContainer}}}"{{/returnContainer}}{{#hasHeaders}},
        responseHeaders = { {{#headers}}
            @ResponseHeader(name = "{{baseName}}", description = "{{unescapedDescription}}", response = {{baseType}}.class),{{/headers}}
        }{{/hasHeaders}}){{#hasMore}},{{/hasMore}}{{/responses}} })
    {{operationIdCamelCase}}Response {{nickname}}({{#allParams}}{{>queryParams}}{{>pathParams}}{{>headerParams}}{{>bodyParams}}{{>formParams}}{{#hasMore}},
        {{/hasMore}}{{/allParams}});
    {{/operation}}
{{/operations}}
{{#operations}}
    {{#operation}}

    class {{operationIdCamelCase}}Response extends ResponseDelegate {

        private {{operationIdCamelCase}}Response(Response response) { super(response); }
        private {{operationIdCamelCase}}Response(Response response, Object entity) { super(response, entity); }
        {{#responses}}

        public static {{operationIdCamelCase}}Response respond{{{code}}}WithApplicationJson({{#dataType}}{{{dataType}}} {{#isPageable}}page{{/isPageable}}{{^isPageable}}entity{{/isPageable}}{{/dataType}}{{#hasHeaders}}{{#headers}}, {{baseType}} {{name}}{{/headers}}{{/hasHeaders}}) {
            Response.ResponseBuilder responseBuilder = Response.status({{{code}}})
                    .header({{>responseMediaType}}){{#hasHeaders}}{{#headers}}
                    .header("{{baseName}}", {{name}}){{/headers}}{{/hasHeaders}}{{#isPageable}}{{#paginationHeaders}}
                    .header("{{baseName}}", page.{{name}}){{/paginationHeaders}}{{/isPageable}};
{{#dataType}}            responseBuilder.entity({{#isPageable}}page.getItems(){{/isPageable}}{{^isPageable}}entity{{/isPageable}});
{{/dataType}}
            return new {{operationIdCamelCase}}Response(responseBuilder.build(){{#dataType}}, {{#isPageable}}page.getItems(){{/isPageable}}{{^isPageable}}entity{{/isPageable}}{{/dataType}});
        }
        {{/responses}}
    }
    {{/operation}}
{{/operations}}
}
